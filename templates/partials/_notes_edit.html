<form hx-post="{{ url_for('edit_notes', id=case.id) }}" 
      hx-target="#notes-wrapper-{{ case.id }}" 
      hx-swap="innerHTML">
    
    <div class="mb-2">
        <textarea name="notes" class="form-control" rows="3" placeholder="輸入備註...">{{ case.notes or '' }}</textarea>
    </div>

    <button type="submit" class="btn btn-primary btn-sm py-0">儲存</button>
    
    {# --- CORE FIX --- #}
    <button type="button" 
            hx-get="{{ url_for('display_notes', id=case.id) }}" 
            hx-target="#notes-wrapper-{{ case.id }}"
            hx-swap="innerHTML"
            class="btn btn-secondary btn-sm py-0">取消</button>
</form>